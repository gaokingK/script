# TO: 进程和线程的使用及区别
## hello_world
```py
def func(arg1, arg2):
    pass
target = threading.Thread(target=func, args=(arg1, arg2)) # 注意这里时func 不能写为func() 这样虽然也能运行，但是下面的语句就不会运行了 
# 如果只有一个参数args=(arg1,) 因为传进去的是个元组
target.start()
target.join(timeout=10) # join的意思时主程序会等待进程结束后才结束 timeout如果有值，主进程会等待10s， 10s后会继续执行，如果没有其他代码，会等这个线程结束
# 如果不join，主进程结束后子线程也会结束
# 一个线程可以被join多次调用 ,结束了后也能join
# start和join要放在两个循环里面，因为join会阻塞主进程，只有当前线程结束后才会继续运行
# 在 Python 中，当你调用线程（threading.Thread 对象）的 join 方法时，调用这个方法的线程将会被阻塞，直到被 join 的线程终止。这允许程序等待线程完成其任务，确保线程有序和安全地退出。重要的是要理解 join 方法仅阻塞调用它的线程，而不会影响其他线程的执行。
```

## 注意
- cpu是指一核cpu
- 并行性和并发性：并行性是同一时刻多个任务同时执行，并发性是一个时间段内，会执行多个任务。但并行也需要多个cpu
## 区别
- 独立性：进程是操作系统中资源分配的最小单位，线程是cpu调度的最小单位；进程拥有独立的内存空间和资源，线程是进程内部的执行单元，多个线程共享一个进程的空间和资源。
- 资源消耗：因为进程需要独立的内存空间和资源，所以进程的创建和销毁是比较消耗资源的；而由于线程共享进程的资源，创建和销毁的开销比较小。
- 通信方式：进程之间需要通过操作系统提供的IPC（进程间通信）机制如管道、消息队列、共享内存来进行通信；而线程因为能直接访问共享内存，所以通信相对方便
- 稳定性：进程之间是相互独立的，但由于线程共享进程的资源，一个线程的崩溃可能会影响整个进程
- 并行和并发：在多核cpu上，进程能做到真正的并行；线程在单核处理器上通过多任务切换实现并发执行，但不同线程之间可能会因为GIL（全局解释器锁）的存在而受限制。
- 在python中，I/O密集型的适合采用多线程来承载，计算密集型的适合使用多进程来完成
- 对于其他语言：在一些具有多核处理器的系统中，可以实现并行执行，多个线程可以同时在不同的核心上运行。但是，如果是单核处理器或者操作系统采用时间片轮转调度策略，那么多线程通常会在并发执行的方式下进行。

## 一个进程可以同时占用多个cpu吗
一个进程通常不能同时占用多个CPU核心，因为在大多数操作系统中，进程是操作系统分配资源的基本单位，而每个CPU核心都是一个独立的执行单元。然而，有一些情况下可以实现多个CPU核心上的并行执行，例如：

多线程并行： 一个进程可以创建多个线程，这些线程可以在多个CPU核心上并行执行。每个线程共享同一个进程的资源，如内存空间，但是它们可以在不同的CPU核心上并行运行。

多进程并行： 一个进程可以创建多个子进程，这些子进程可以在不同的CPU核心上并行执行。每个子进程有自己独立的内存空间和资源，可以在多个CPU核心上并行运行。

并行计算： 在某些特定的应用场景下，可以使用并行计算的技术，将一个任务分解成多个子任务，每个子任务在不同的CPU核心上执行，最终汇总结果。

向量化指令： 一些特定的处理器提供了向量化指令，允许在单个指令中处理多个数据元素，从而实现数据级并行。

需要注意的是，多个CPU核心的并行执行需要操作系统和硬件的支持。一些操作系统会自动将进程或线程分配到可用的CPU核心上，从而实现并行执行。但是，要充分利用多核处理器的性能，需要进行适当的并行编程和优化。
